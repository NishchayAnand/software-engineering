
TraditionalÂ **relational databases**Â likeÂ **PostgreSQL**,Â **MySQL**, orÂ **SQLite**Â areÂ **single-node systems**Â by design:

- All the data files and indexes are stored on one machine (theÂ database server).
- Clients connect remotely to that server over the network.

**Pros:**

- Simple and consistent.
- Strong ACID guarantees (Atomicity, Consistency, Isolation, Durability).

**Cons:**

- **Limited scalability:** one machineâ€™s CPU, memory, and disk define your ceiling.
- Single point of failure (unless you add replicas).

---
### **Scaling Across Multiple Machines**

To scale or improve reliability, databases can beÂ **distributed across multiple machines**Â using one or more of these strategies:

#### **Replication**

Copies of the same database are maintained on multiple machines.
##### Types:

1. **Masterâ€“Replica (Primaryâ€“Standby)**
    - One machine =Â **Primary**Â (handles writes).
    - Others =Â **Replicas**Â (handle reads or standby for failover).
    - Used for **Read scalability** and **High availability (HA)** â€” if one node fails, another can take over.

#### **Sharding (Horizontal Partitioning)**

The database isÂ **split into pieces (shards)**Â and each piece lives on a different machine.

**Example:**
    - User IDs 1â€“1M â†’ Server A
    - User IDs 1Mâ€“2M â†’ Server B

**Used by:**
- Large-scale systems like Facebook, Instagram, Twitter.

**Used for:**
- Write scalability (more machines = more data throughput).

**Challenge:**
- You must manage distributed transactions and joins manually or via middleware.

---
### **Distributed Databases**

The database isÂ **natively built to run across multiple nodes**Â and handles replication, sharding, and consistency internally.

**Examples:**

- **CockroachDB**Â (PostgreSQL-compatible)
- **Google Spanner**
- **Cassandra**
- **MongoDB**
- **YugabyteDB**

**Architecture:**

```
Multiple nodes = One logical database
```

---
### **Trade-offs (CAP Theorem)**

Distributed systems must balance between:

- **C**Â â€” Consistency
- **A**Â â€” Availability
- **P**Â â€” Partition tolerance

ðŸ‘‰ You can only fully achieveÂ **two**Â at once:

|Type|Focus|Example|
|---|---|---|
|CP|Consistent, but may sacrifice availability|PostgreSQL with synchronous replication|
|AP|Highly available, but may show stale data|Cassandra, DynamoDB|

---