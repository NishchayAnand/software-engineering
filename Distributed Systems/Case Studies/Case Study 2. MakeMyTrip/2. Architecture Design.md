
Designing a scalable architecture begins with understanding the scale of the problem. **Back-of-the-envelope estimations** help us approximate critical metrics like **traffic load**, **storage requirements**, and **bandwidth usage**, which in turn influence key architectural decisions such as the number of **application servers**, **database sharding strategies**, **caching mechanisms**, and overall **network design**.

By doing these quick calculations early, we avoid over-engineering and ensure the system can gracefully handle both current and future demand. Let’s perform these estimations for your **Hotel Reservation System**, considering realistic assumptions about **daily active users (DAU)**, **read / write ratios**, and **storage requirements**.

![back-of-the-envelope-estimation](back-of-the-envelope-estimation.png)

---
### Load Estimation

For load estimation, we need to understand 

- Daily Active Users: 10 Million ~ 1 Cr
- Hotel Search Queries per day: 10M x 5 searches per day = 50 M ~ 5 CR searches/day. 
- Hotel Details Queries per day = 2 times of Hotel Search Queries = 100 M ~ 10 CR.
- Peak factor vs AVG: 5 times
- Conversion (search -> booking): 1% -> 500 K 



---
### Storage Estimation

- Hotels To Cater - 1,00,000 (business aspiration)
- Average room count = 50 (business decision)
- Total Rooms = 5 M
- Average photo count per hotel = 20
- Average size of photos = 2 MB
- Total space required = 1,00,000 x 20 x 2 = 40,00,000 MB = 4 TB (imp)



Booking storage estimation 


1M hotels, 100 rooms, 5 room types = 100 million, 5 million room types 



---
### Bandwidth Estimation

---
### System Architecture



---
### EXTRA

- 5000 hotels -> 1 million rooms 
- customers pay online 
- support cancellation
- allow 10% overbooking ???
- show hotel details page 
- show hotel room-related detail page
- Reserve a room
- admin panel to add / remove / update hotel or room info
- hotel prices can change dynamically. **The price of a hotel room depends on hoe full the hotel is expected to be on a given day.** For now, we can assume the price could be different each day.
- Support high concurrency. During peak season or some big events, some popular hotels may have a lot of customers trying to book the same room.
- Moderate latency. It's okay for the system to take few seconds for processing a reservation request.

internal API like admin APIs can use RPC such as gRPC.

---

- Customer should be able to search hotels for a specific location and for a specific date range. 
- Customer can reserve one or more rooms in a hotel.
- Customer can cancel the booking. 


## EXTRA

- cancelBooking(Booking) -> Booking: Hotel, StartDate, EndDate, IsPaid etc. 

## LINKS

- https://www.youtube.com/watch?v=kO0EQNfE2x4


