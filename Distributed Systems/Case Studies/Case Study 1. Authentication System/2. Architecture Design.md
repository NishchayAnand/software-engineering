
<span style="color:purple;font-weight:bold;">User Service</span>

The **User Service** is the central source of truth for identity, exposing stable APIs for **login**, **signup**, **token refresh**, and **profile management**. 

Most of its traffic comes from **login** and **token refresh** <span style="color:red;">(do load estimation for token refresh)</span>, which are short-lived read / write operations that create moderate load but can spike during peak events (e.g., flash sales). <span style="color:green;font-weight:bold;background:beige;">A single instance can handle around 500 RPS, so 2–3 instances (across multiple AZs) behind a load balancer are sufficient for steady state, with autoscaling to 4–5 instances during surges.</span>

User data such as names, emails, phone numbers, password hashes, and roles is **transactional, relational, and security-sensitive**, making a relational database like `PostgreSQL` or `MySQL` the best fit, complemented by `Redis` for sessions, rate limiting, and short-lived profile caching <span style="color:red;">(understand this in depth)</span>. 

JWT validation can be offloaded to the `API Gateway` via the **User Service’s JWKS endpoint**, ensuring the service only handles identity lifecycle operations, making it lightweight and more CPU-bound (hashing, token signing) than bandwidth-heavy.

---
### EXTRA

Users sit in a single logical cluster with read replicas because read pressure is modest.