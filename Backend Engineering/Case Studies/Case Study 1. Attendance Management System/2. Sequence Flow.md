
The **teacher (main actor)** is responsible for performing all **key actions (use cases)** such as **defining classes**, **adding students**, **marking attendance**, and **generating monthly reports**.

Let’s understand the **step-by-step sequence flow** of each use case to gain deeper insights into **how teachers interact with the system, how data flows during runtime, and how each feature functions within a memory-only environment**.

---
### Use Case 1: Create Class

A **`Teacher`** initiates the process by clicking the **"Create New Class"** button from the UI. The UI displays the class creation form and prompts the teacher to enter class details such as **`className`** and **`teacherName`**. 

Upon submitting the form, the frontend sends a **`POST /createClass`** request to the **`AttendanceManagementSystem`**, including the input class details. 

The **`AttendanceManagementSystem`** extracts request parameters: **`className`** and **`teacherName`**, and invokes the **`createClass(className, teacherName)`** method within the **`ClassService`**. 

The **`createClass()`** method performs basic validations (e.g., check if **`className`** already exists), instantiates a new **`Class`** object: **`classObj`**  and invokes the **`save(classObj)`** method within the **`ClassRepository`**.

The **`save()`** method generates a unique **`classID`** and saves the **`classObj`** in the **in-memory** collection.

A success message is then returned to the UI, confirming that the class has been created.

```mermaid
sequenceDiagram
	participant T as Teacher
	participant UI as Frontend UI
	participant AMS as AttendanceManagementSystem<br/>(REST Controller)
	participant CS as ClassService
	participant CR as ClassRepository

	Note over T,CR: Create New Class - Complete Flow

	T->>+UI: Click "Create New Class" button
	UI-->>-T: Display class creation form

	T->>+UI: Fill form and click Submit
	Note right of T: Enter details:<br/>Class Name: "Mathematics Grade 10"<br/>Teacher Name: "John Smith"

	UI->>+AMS: POST /createClass
	Note right of UI: Send HTTP request with payload:<br/>{ "className": "Mathematics Grade 10", "teacherName": "John Smith" }

	AMS->>+CS: createClass("Mathematics Grade 10", "John Smith")
	Note right of AMS: Delegate to service layer with extracted parameters

	alt Class already exists
		CS->>+CR: findByName("Mathematics Grade 10")
		CR-->>-CS: Class already exists
		CS-->>AMS: return error: "Class already exists"
		AMS-->>UI: return HTTP 409 Conflict
		UI-->>T: Show error: "Class already exists"
	else New class creation
		CS->>CS: classObj = new Class("Mathematics Grade 10", "John Smith")
		CS->>+CR: save(classObj)
		CR->>CR: generateClassId()
		Note right of CR: Generate unique class ID: <br/> "CLASS_0001"
		CR->>CR: classes.put("CLASS_0001", classObj)
		CR-->>-CS: return "CLASS_0001"
		CS-->>-AMS: return "CLASS_0001"
		AMS-->>-UI: Class created successfully with ID: "CLASS_0001"
		UI-->>-T: Show confirmation: "Class created successfully!"
	end
```

---
### Use Case 2: Add Student

The **`Teacher`** begins the process by clicking the **"Add Students"** button from the UI. The frontend sends a **`GET request`** to the **`AttendanceManagementSystem`** to fetch the list of classes assigned to that **`Teacher`**.

The UI displays a list of existing classes, from which the **`Teacher`** selects the desired class (e.g., "Mathematics Grade 10"). The UI then displays the student details form and prompts the teacher to enter student details such as **`name`** and **`rollNumber`**.

Upon submitting the form, the frontend sends a **`POST /addStudent`** request to the **`AttendanceManagementSystem`**, including the selected **`classID`** and the student's information. 

The **`AttendanceManagementSystem`** extracts request parameters: **`classID`**, **`name`** and **`rollNumber`**, and invokes the **`addStudent(classID,name,rollNumber)`** method within the **`ClassService`**.

The **`addStudent()`** method first validates whether the **`rollNumber`** is unique within that class. Upon successful validation, a new **`Student`** object is instantiated and added to the in-memory data store via the **`ClassRepository`**. 

Finally, the **`AttendanceManagementSystem`** returns a success response to the UI, confirming the student was added.

```mermaid
sequenceDiagram
	participant T as Teacher
	participant UI as Frontend UI
	participant AMS as AttendanceManagementSystem<br/>(REST Controller)
	participant CS as ClassService
	participant SR as StudentRepository

	Note over T,SR: Add Student to Class - Complete Flow

	T->>+UI: Click "Add Student" button
	UI->>+AMS: GET /classes
	Note right of UI: Fetch available classes<br/>for dropdown selection
	AMS->>+CS: getAllClasses()
	CS->>+CR: findAll()
	CR-->>-CS: List<Class>
	CS-->>-AMS: List<Class>
	AMS-->>-UI: HTTP 200 OK with class list
	UI-->>-T: Show "Add Student" form

```

---
### Use Case 3: Mark Attendance



---
### Use Case 4: Generate Monthly Attendance Report


---
