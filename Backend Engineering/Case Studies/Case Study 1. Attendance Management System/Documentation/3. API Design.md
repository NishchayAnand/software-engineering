
The **Attendance Management System APIs** can be organized into three main resource groups: 

1. **Class API**: Handles requests such as creating a new class, adding students to existing classes, and retrieving details of existing classes.
2. **Attendance API**: Mark daily attendance for all students in an existing class.
3. **Reports API**: Generate monthly attendance summaries for an existing class.

Let's discuss each API in detail, outlining their endpoints, request formats, and response structures.

---
### Class API

Responsible for managing all operations related to class creation, student allocation to classes, and retrieval of class details.

<span style="color:green;font-weight:bold;">Endpoint 1:</span> `POST /create-class`

Use this endpoint to **create a new class**. It accepts class details such as the class `className` and `teacherName` in the request body. 

<span style="color:purple;font-weight:bold;">Sample Request</span>

```
{
  "className": "Mathematics - Grade 10",
  "teacherName": "Mrs. Anjali Sharma"
}
```

Upon successful creation (`HTTP 201 Created`), the response returns the unique `classId` along with the created class details, while failures return the appropriate error status code (e.g., `HTTP 400 Bad Request`).

<span style="color:purple;font-weight:bold;">Sample Response</span>

```
{
  "classId": 101,
  "className": "Mathematics - Grade 10",
  "teacherName": "Mrs. Anjali Sharma",
  "createdAt": "2025-08-12T09:30:00Z"
}
```

> **NOTE:** It's good practice to return the entire created resource in the response so the client can use it immediately without making an additional fetch request.

<span style="color:green;font-weight:bold;">Endpoint 2:</span> `GET /classes`

Use this endpoint to **retrieve all available classes**. It accepts no request body. 

Upon successful retrieval (`HTTP 200 OK`), it returns a JSON array containing each class’s unique ID, class name, teacher name, and other relevant details, while an empty result returns `HTTP 204 No Content`.

<span style="color:purple;font-weight:bold;">Sample Response</span>

```
[
  {
    "classId": 101,
    "className": "Mathematics - Grade 10",
    "teacherName": "Mrs. Anjali Sharma",
    "createdAt": "2025-08-12T09:30:00Z"
  },
  {
    "classId": 102,
    "className": "Science - Grade 10",
    "teacherName": "Mr. Rajesh Kumar",
    "createdAt": "2025-08-12T10:15:00Z"
  }
]
```

<span style="color:green;font-weight:bold;">Endpoint 3:</span> `GET /classes/{classId}`

Use this endpoint to **retrieve details of a specific class**. It accepts no request body and uses the `classId` provided in the path parameter to identify the class.

Upon successful retrieval (`HTTP 200 OK`), it returns the full details of the class, whereas if the specified `classId` does not exist, it responds with `HTTP 404 Not Found`.

<span style="color:purple;font-weight:bold;">Sample Response</span>

```
{
  "classId": 101,
  "className": "Mathematics - Grade 10",
  "teacherName": "Mrs. Anjali Sharma",
  "createdAt": "2025-08-12T09:30:00Z"
}
```

<span style="color:green;font-weight:bold;">Endpoint 4:</span> `POST /add-student/{classId}`

Use this endpoint to add a new student to the specified class. It accepts the student’s details in the request body uses the `classId` provided in the path parameter to identify the class.

<span style="color:purple;font-weight:bold;">Sample Request</span>

```
{
  "name": "John Doe",
  "rollNumber": "A12"
}
```

Upon successful creation (`HTTP 201 Created`), it returns the student’s unique ID along with the full student record, while invalid input or a non-existent class results in 1HTTP 400 Bad Request1 or `HTTP 404 Not Found` respectively.

<span style="color:purple;font-weight:bold;">Sample Response</span>

```
{
  "studentId": 501,
  "name": "John Doe",
  "rollNumber": "A12",
  "classId": 101
}
```

---
### Attendance API



----


---




### Main Controller Component

The `AttendanceManagementSystem` component acts as a **unified interface** for all attendance system operations.

This approach <span style="color:green;font-weight:bold;background:beige;">hides the complexity of underlying components and exposes only high-level methods</span> like `createClass()`, `markAttendance()`, and `generateReport()`. Internally, these methods delegate tasks to the relevant modules (e.g., `ClassService`, `AttendanceService`, or `ReportService`) without revealing their internal workings.

**Spring Boot Implementation**

```
/**
 * Main facade class that provides a unified interface for all attendance system  * operations
 */
class AttendanceManagementSystem {
	private final ClassService classService;
	private final AttendanceService attendanceService;
	private final ReportService reportService;
	
	public AttendanceManagementSystem(ClassService classService, 
	                                  AttendanceService attendanceService,
	                                  ReportService reportService) {
		this.classService = classService;
		this.attendanceService = attendanceService;
		this.reportService = reportService;
	}

	// ========== CLASS MANAGEMENT OPERATIONS ==========

	/**
	 * Create a new class with given class name and teacher name
	 */
	public String createClass(String className, String teacherName) {
		return classService.createClass(className, studentName);
	}

	/**
	 * Get all classes in the system 
	 */
	public List<Class> getAllClasses() {
		return classService.getAllClasses();
	}

	/**
	 * Add a student to an existing class
	 */
	public boolean addStudentToClass(String classId, String studentName) {
		return classService.addStudentToClass(classId, studentName);
	}

	/**
	 * Get all student in a class
	 */
	 public List<Student> getAllStudentsInClass(String classId) {
		 return classService.getClass(classId).getStudents();
	 } 

	// ========= ATTENDANCE MANAGEMENT OPERATIONS ==========

	/*
	 * Mark attendance for multiple students in a class for a specific date
	 */
	public boolean markAttendance(String classId, LocalDate date, 
	                    Map<String, AttendanceStatus> studentAttendanceMap) {
		return attendanceService.markAttendance(classId, date,
		                                        studentAttendanceMap);
	}

	// ========== REPORT MANAGEMENT OPERATIONS ==========

	/*
	 * Generate comprehensive class attendance report for a specific month 
	 */
	public ClassAttendanceReport generateClassAttendanceReport(String classId
	                                            int year, int month) {
		return reportService.generateClassAttendanceReport(classId, year, month);
	}

}
```

The design decision to use this class as an interceptor for all incoming requests follows the <span style="color:green;font-weight:bold;background:beige;">Facade Pattern</span>.

Instead of allowing the user interface or external components to directly interact with multiple subsystems such as class creation, student registration, attendance tracking, or report generation, this class provides a **single point of access** to those functionalities.

---
### EXTRA