
The **Attendance Management System (AMS)** can be designed using a **Layered Architecture**. This approach organizes the system into **distinct layers (Controller–Service–Repository)**, allowing each layer to focus on a single responsibility.

Additionally, we can leverage **Object-Oriented Programming (OOP) principles** to model real-world entities such as **`Teacher`**, **`SchoolClass`**, and **`Student`** as objects, encapsulating both their data and behaviors. This makes the system more intuitive by aligning the software design closely with real-world scenarios.

Let's discuss each component, explaining how the **Layered Architecture** and **OOP design** shape their implementation.

<span style="color:red;">(talk about data transfer objects - explain the importance of DTO objects as well)</span>

---
### Main Controller Component: `AttendanceManagementSystem`

The `AttendanceManagementSystem` component acts as a **unified interface** for all attendance system operations.

<span style="color:red">write queries this controller will be handling</span>

This approach <span style="color:green;font-weight:bold;background:beige;">hides the complexity of underlying components and exposes only high-level methods</span> like `createClass()`, `markAttendance()`, and `generateReport()`. Internally, these methods delegate tasks to the relevant modules (e.g., `ClassService`, `AttendanceService`, or `ReportService`) without revealing their internal workings.

```
/**
 * Main facade class that provides a unified interface for all attendance system  * operations
 */
class AttendanceManagementSystem {
	private final ClassService classService;
	private final AttendanceService attendanceService;
	private final ReportService reportService;
	
	public AttendanceManagementSystem(ClassService classService, 
	                                  AttendanceService attendanceService,
	                                  ReportService reportService) {
		this.classService = classService;
		this.attendanceService = attendanceService;
		this.reportService = reportService;
	}

	// ========== CLASS MANAGEMENT OPERATIONS ==========

	/**
	 * Create a new class with given class name and teacher name
	 */
	public String createClass(String className, String teacherName) {
		return classService.createClass(className, studentName);
	}

	/**
	 * Get all classes in the system 
	 */
	public List<Class> getAllClasses() {
		return classService.getAllClasses();
	}

	/**
	 * Add a student to an existing class
	 */
	public boolean addStudentToClass(String classId, String studentName) {
		return classService.addStudentToClass(classId, studentName);
	}

	/**
	 * Get all student in a class
	 */
	 public List<Student> getAllStudentsInClass(String classId) {
		 return classService.getClass(classId).getStudents();
	 } 

	// ========= ATTENDANCE MANAGEMENT OPERATIONS ==========

	/*
	 * Mark attendance for multiple students in a class for a specific date
	 */
	public boolean markAttendance(String classId, LocalDate date, 
	                    Map<String, AttendanceStatus> studentAttendanceMap) {
		return attendanceService.markAttendance(classId, date,
		                                        studentAttendanceMap);
	}

	// ========== REPORT MANAGEMENT OPERATIONS ==========

	/*
	 * Generate comprehensive class attendance report for a specific month 
	 */
	public ClassAttendanceReport generateClassAttendanceReport(String classId
	                                            int year, int month) {
		return reportService.generateClassAttendanceReport(classId, year, month);
	}

}
```

The design decision to use this class as an interceptor for all incoming requests follows the <span style="color:green;font-weight:bold;background:beige;">Facade Pattern</span>.

Instead of allowing the user interface or external components to directly interact with multiple subsystems such as class creation, student registration, attendance tracking, or report generation, this class provides a **single point of access** to those functionalities.

---
