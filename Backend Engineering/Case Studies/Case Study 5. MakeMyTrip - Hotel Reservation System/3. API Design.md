
The **Hotel Reservation System** can be organized into four main API groups, each focused on a core function of the platform: 

1. **Inventory API**: Act as the single source of truth for real-time room availability and allocation.
2. **Hotel API**:
3. **Reservation API**:
4. **Pricing API**:

Let's explore each of these in detail, covering their key aspects such as core endpoints, request and response structures, underlying business logic, and estimated load expectations.

---
### Inventory API

Its primary use case is to answer two critical questions at any moment:

1. Is this room type actually available for these dates?
2. Can I safely lock this room for a customer until they finish booking?

<span style="color:purple;font-weight:bold">Endpoint 1:</span>  `GET /inventory/hotels?destination=...&check-in-date=...&check-out-date=...`

Use this endpoint to fetch the list of hotels that have at least one bookable room for the selected query parameters: `destination`, `check-in-date`, and `check-out-date`. 

It accepts no request body.

<span style="color:green;font-weight:bold">Business Logic</span>

```

```

<span style="color:green;font-weight:bold">Sample Response Body</span>

```

```

<span style="color:green;font-weight:bold">Load Estimation</span>

```
- Assumption: Daily Active Users (DAU) = 5 Million
- Assumption: Average Search Requests per User per Day = 5

- Total Requests per Day = 5M * 5 = 25M
- Average RPS = 25,000,000 / (86,400) ≈ 250 RPS

- Assumption: Peak Load Factor = 5x
- Peak RPS = 250 * 5 ≈ 1,250 RPS
```

---
### Hotel Service

View Details of Selected Hotel

<span style="color:purple;font-weight:bold">Sample Request Body</span>

<span style="color:purple;font-weight:bold">Business Logic</span>

<span style="color:purple;font-weight:bold">Sample Response Body</span>

<span style="color:purple;font-weight:bold">Load Estimation</span>

```
- Assumption: 50% of users view details after search
- Assumption: Average View Details Requests per User per Day = 2

- Total Requests per Day = 5M * 50% * 2 = 5,000,000
- Average RPS = 5,000,000 / (86,400) ≈ 50 RPS

- Assumption: Peak Load Factor = 5x
- Peak RPS = 50 * 5 ≈ 250 RPS
```

---
### Reservation Service

Book a Hotel Room

<span style="color:purple;font-weight:bold">Sample Request Body</span>

<span style="color:purple;font-weight:bold">Business Logic</span>

<span style="color:purple;font-weight:bold">Sample Response Body</span>

<span style="color:purple;font-weight:bold">Load Estimation</span>

```
- Assumption: 2% of users make a booking per day
- Assumption: Average Booking Requests per User per Day = 1

- Total Requests per Day = 5M * 2% = 100,000
- Average RPS = 100,000 / (24 * 60 * 60) ≈ 1 RPS

- Assumption: Peak Load Factor = 5x
- Peak RPS = 1 * 5 = 5 RPS
```

---
### EXTRA

### User API

handle sign up requests

<span style="color:purple;font-weight:bold">Sample Request Body</span>

<span style="color:purple;font-weight:bold">Business Logic</span>

<span style="color:purple;font-weight:bold">Sample Response Body</span>

<span style="color:purple;font-weight:bold">Load Estimation</span>

```
- Assumption: Daily Active Users (DAU) = 5 Million
- Assumption: 20% of DAU log in per day

- Total Requests per Day = 5M * 20% = 1M
- Average RPS = 1,000,000 / (24 * 60 * 60) ≈ 10 RPS

- Assumption: Peak Load Factor = 5x
- Peak RPS = 10 * 5 ≈ 50 RPS
```

> Design Choice: Keep IAM API (for sign in and api requests) separate from User API

---
